{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TranslateModule } from '@ngx-translate/core';\n\nimport { LoginPage } from './login';\n\n@NgModule({\n  declarations: [\n    LoginPage\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginPage),\n    TranslateModule\n  ]\n})\nexport class LoginPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, LoadingController } from 'ionic-angular';\nimport { FormGroup, FormControl, Validators } from '@angular/forms'\nimport { Storage } from '@ionic/storage';\nimport { TranslateService, TranslatePipe } from '@ngx-translate/core';\nimport { AppModelServiceProvider } from '../../providers/app-model-service/app-model-service'\nimport { AlertController } from 'ionic-angular/components/alert/alert-controller';\n\n@IonicPage()\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class LoginPage {\n\n  loginForm;\n  private serverError: String;\n  private loading: any;\n  constructor(private alertCtrl: AlertController, public loadingCtrl: LoadingController, private appService: AppModelServiceProvider, translate: TranslateService, public viewCtrl: ViewController,public navCtrl: NavController, public navParams: NavParams, private storage: Storage) {\n    // translate.setDefaultLang('ar-sa');\n    this.serverError = \"\";\n  }\n\n  ngOnInit() {\n    this.loginForm = new FormGroup({\n      username: new FormControl('', Validators.compose([Validators.required, Validators.pattern(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n      )])),\n      password: new FormControl('', Validators.compose([Validators.required]))\n    });\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad LoginPage');\n\n    // this.loginForm.controls['username'].setValue(\"test@gmail.com\");\n    // this.loginForm.controls['password'].setValue(\"12345\");\n  }\n\n  forgotPassword() {\n    let prompt = this.alertCtrl.create({\n      title: 'Rent A Truck',\n      message: \"Enter your EmailId to receive the password.\",\n      inputs: [\n        {\n          name: 'EmailId',\n          placeholder: 'Email id'\n        },\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n          handler: data => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: 'Send',\n          handler: data => {\n            console.log('Saved clicked: '+data.EmailId);\n            this.appService.sendForgotPassword(data.EmailId);\n          }\n        }\n      ]\n    });\n    prompt.present();\n  }\n\n  loginWithRole(role) {\n    switch(role){\n      case 1: {\n        this.loginForm.controls['username'].setValue(\"admin1@gmail.com\");\n        this.loginForm.controls['password'].setValue(\"admin\");\n        break;\n      }\n      case 2: {\n        this.loginForm.controls['username'].setValue(\"owner1@gmail.com\");\n        this.loginForm.controls['password'].setValue(\"owner\");\n        break;\n      }\n      case 3: {\n        this.loginForm.controls['username'].setValue(\"customer1@gmail.com\");\n        this.loginForm.controls['password'].setValue(\"customer\");\n        break;\n      }\n      case 4: {\n        this.loginForm.controls['username'].setValue(\"driver1@gmail.com\");\n        this.loginForm.controls['password'].setValue(\"driver\");\n        break;\n      }\n      default: {\n        break;\n      }\n    }\n    // this.closeLogin();\n  }\n\n  closeLogin() {\n    this.viewCtrl.dismiss();              \n  }\n\n  navigateToRegistrationPage() {\n    this.navCtrl.push(\"RegistrationPage\");\n  }\n\n  focusFunction() {\n    this.serverError = \"\";\n  }\n\n  onLogin(loginItem) {\n    console.log(\"onLogin: \" + JSON.stringify(loginItem));\n    if(loginItem.username == \"\" || loginItem.password == \"\") {\n      return;\n    }\n    this.presentLoadingCustom();\n    this.appService.loginService({email: loginItem.username, password: loginItem.password},\n       (response) => {\n        if(response.result == 'success') {\n          this.viewCtrl.dismiss({ result: 'success', user: response.data });          \n        } else {\n          this.serverError = response.error;\n        }\n        this.loading.dismiss();\n    });\n    //   // set a key/value\n    // this.storage.set('name', 'Max');\n  \n    // // Or to get a key/value pair\n    // this.storage.get('age').then((val) => {\n    //   console.log('Your age is', val);\n    // });\n  }\n\n  presentLoadingCustom() {\n    this.loading = this.loadingCtrl.create({\n      duration: 10000\n    });\n  \n    this.loading.onDidDismiss(() => {\n      console.log('Dismissed loading');\n    });\n  \n    this.loading.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}