{"version":3,"sources":["../../src/pages/registration/registration.module.ts","../../src/pages/registration/registration.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { RegistrationPage } from './registration';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    RegistrationPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(RegistrationPage),\n    TranslateModule\n  ],\n})\nexport class RegistrationPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/registration/registration.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController } from 'ionic-angular';\nimport { FormGroup, FormControl, Validators } from '@angular/forms'\nimport { Storage } from '@ionic/storage';\nimport { AppModelServiceProvider } from '../../providers/app-model-service/app-model-service'\n\n@IonicPage()\n@Component({\n  selector: 'page-registration',\n  templateUrl: 'registration.html',\n})\nexport class RegistrationPage {\n\n  registrationForm;\n  private serverError: String;\n  constructor(private alertCtrl: AlertController, private appService: AppModelServiceProvider, public navCtrl: NavController, public navParams: NavParams, private storage: Storage) {\n    this.serverError = \"\";\n  }  \n  \n    ngOnInit() {\n      this.registrationForm = new FormGroup({\n        username: new FormControl('', Validators.compose([Validators.required])),\n        password: new FormControl('', Validators.compose([Validators.required])),\n        email: new FormControl('', Validators.compose([Validators.required, Validators.pattern(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n        )])),\n        phonenumber: new FormControl('', Validators.compose([Validators.required, Validators.pattern(/^\\d+$/)])),\n        role: new FormControl('', Validators.compose([Validators.required]))\n      });\n    }\n  \n    ionViewDidLoad() {\n      console.log('ionViewDidLoad RegistrationPage');\n  \n      // this.registrationForm.controls['username'].setValue(\"test@gmail.com\");\n      // this.registrationForm.controls['password'].setValue(\"12345\");\n    }\n  \n    navigateToLoginPage() {\n      this.navCtrl.pop();\n    }\n  \n    focusFunction() {\n      console.log(\"onFocus\");\n      this.serverError = \"\";\n    }\n  \n    onRegistration(loginItem) {\n      console.log(\"onRegistration: \" + JSON.stringify(loginItem)+\" - \"+loginItem.role);\n\n      if(loginItem.username == \"\" || loginItem.password == \"\" || loginItem.phonenumber == \"\" || loginItem.email == \"\") {\n        return;\n      }\n\n      this.appService.registrationService({email: loginItem.email, password: loginItem.password, name: loginItem.username, phonenumber: loginItem.phonenumber, role: loginItem.role, status: \"pending\"},\n        (response) => {\n         if(response.result == 'success') {\n          this.presentConfirm();\n         } else {\n           this.serverError = response.error;\n         }\n     });\n      // this.storage.set('login', 'success');\n      // this.viewCtrl.dismiss({ result: 'success', userType: 'user' });\n    }\n    \n\n    presentConfirm() {\n      let alert = this.alertCtrl.create({\n        title: 'Rent a Truck',\n        message: 'Registration Successful. A verfication link has been sent to your mailid. Please verify the link and then login.',\n        buttons: [\n          {\n            text: 'Login',\n            role: 'cancel',\n            handler: () => {\n              console.log('Login alert clicked');\n              this.navCtrl.pop();\n            }\n          }\n        ]\n      });\n      alert.present();\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/registration/registration.ts"],"sourceRoot":""}