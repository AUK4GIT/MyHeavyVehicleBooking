
<ion-header>

  <ion-navbar>
    <ion-title>DriverTripDetailsPage</ion-title>
  </ion-navbar>

</ion-header>


<ion-content >

    <ion-card>
        <ion-card-header>
          {{'TRIPDETAILS'|translate}}
        </ion-card-header>
        <ion-card-content>
          <ion-card-title>
              {{trip?.startlocation}} - {{trip?.endlocation}}
          </ion-card-title>
          <h4>
              {{ trip?.startdate }}
          </h4>
          <h5>
              {{ trip?.freight }}  
          </h5>
        </ion-card-content>
      </ion-card>

      <ion-card>
          <ion-card-header>
            {{'QUOTATIONDETAILS'|translate}}
          </ion-card-header>
          <ion-card-content>
            <ion-card-title>
                {{ quotation?.trucktype }}
              </ion-card-title>
            <h4>
                {{ quotation?.starttime }}
            </h4>
            <h5>
                {{ quotation?.duration }} hrs
            </h5>
            <h5>
              <b>
                {{ quotation?.cost }} SR
              </b>
            </h5>
            <h5 *ngIf="trip?.offerdiscount">
              Discount: {{ trip?.offerdiscount }} %
            </h5>
            <h5>
              VAT: {{ trip?.vat }} %
            </h5>
            <ion-row>
                <ion-col>
                  <ion-item margin-top class="item-leave-height">
                    <ion-label>{{'COMMENTS' | translate}}</ion-label>
                    <ion-input [disabled]="trip.status == 'completed'" placeholder="Add Comments" name="comments" id="comments" type="text" [(ngModel)]="comments"></ion-input>
                  </ion-item>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col>
                    <ion-item margin-top class="item-leave-height">
                      <ion-label>{{'ADDITIONALCHARGES' | translate}}</ion-label>
                      <ion-input class="currency" (onBlur)="onAdditionalChargesEntered()" [disabled]="trip.status == 'completed'" placeholder="Additional charges" name="charges" id="charges" type="text" [(ngModel)]="charges"></ion-input>
                    </ion-item>
                  </ion-col>
              </ion-row>
              <h3 *ngIf="quotation && trip">
                Total amount
                <b> {{ getTotalAmount(trip, quotation, null) }} </b>SR
              </h3>
          </ion-card-content>
        </ion-card>

        <ion-card>
            <ion-card-header>
              {{'TRUCKDETAILS'|translate}}
            </ion-card-header>
            <ion-card-content>
                <ion-card-title>
                    {{truckdetails?.trucktype}}
                  </ion-card-title>
                    <h3>
                      {{ truckdetails?.capacity }}
                    </h3>
                    <h4>
                      Reg No - {{ truckdetails?.regno }}
                    </h4>
                    <h4>
                      color: {{ truckdetails?.color }}
                  </h4>
            </ion-card-content>
          </ion-card>

          <ion-card>
              <ion-card-header>
                {{'CUSTOMERDETAILS'|translate}}
              </ion-card-header>
              <ion-card-content>
                <ion-card-title>
                    {{customer?.name}}
                  </ion-card-title>
                    <h3>
                      {{ customer?.email }}
                    </h3>
                    <h4 href="tel:customer?.phonenumber">
                        {{ customer?.phonenumber }}
                    </h4>
              </ion-card-content>
            </ion-card>
            <ion-row padding-top >
                <ion-col text-center>
                    <button (click)="completeTrip()" [disabled]="trip.status == 'completed'" ion-button medium >{{ 'CLOSETRIP' | translate }}</button>
                </ion-col>
            </ion-row>

</ion-content>
